<div class="topbar">
  <div class="welcome">
    <h4>Welcome back, {{user.userName}}</h4>
  </div>

  <div class="search">
    <label>
      <input type="text" placeholder="Search anything">
      <i class="fas fa-search search-icon"></i>
    </label>
  </div>

  <div class="topbar-actions">
    <div class="notification-wrapper">
      <i class="fas fa-bell bell-icon"></i>
      <span class="notification-badge">{{numberNotification?.length || 0}}</span>
    </div>


    <div class="user">
      <a routerLink="/profile"> <img [src]="user.UploadedFile" alt="userphoto"></a>

    </div>

    <button class="create-task-btn" (click)="openModal()">
      <i class="fas fa-plus"></i> Create New Task
    </button>
  </div>
</div>
<!-- Modal Form -->
<div class="modal" id="taskModal" *ngIf="isOpen">
  <form class="modal-content">
    <span class="close-btn" id="closeModal" (click)="closeModal()">&times;</span>
    <h2>Add New Task</h2>

    <div class="row">
      <div class="form-group">
        <label for="taskName"><i class="fas fa-tasks label-icon"></i> Task Name</label>
        <input id="taskName" type="text" placeholder="Enter task name" [(ngModel)]="taskName" name="taskName">
      </div>

      <div class="form-group">
        <label for="startDate"><i class="fas fa-play label-icon"></i> Start Date</label>
        <input id="startDate" type="date" [(ngModel)]="startDate" name="startDate">
      </div>
    </div>

    <div class="row">
      <div class="form-group">
        <label for="deadline"><i class="fas fa-hourglass-end label-icon"></i> Deadline</label>
        <input id="deadline" type="date" [(ngModel)]="deadline" name="deadline">
      </div>

      <div class="form-group">
        <label for="status"><i class="fas fa-tasks label-icon"></i> Status</label>
        <select id="status" [(ngModel)]="status" name="status">
          <option value="Completed">Completed</option>
          <option value="Pending">Pending</option>
          <option value="In Progress">In Progress</option>
        </select>
      </div>
    </div>

    <div class="row">
      <div class="form-group">
        <label for="category"><i class="fas fa-list label-icon"></i> Category</label>
        <select id="category" [(ngModel)]="category" name="category">
          <option value="">Select Category</option>
          <option value="Management">Management</option>
          <option value="Development">Development</option>
          <option value="Design">Design</option>
          <option value="Audit">Audit</option>
        </select>
      </div>

      <div class="form-group">
        <label for="fileUpload"><i class="fas fa-paperclip label-icon"></i> Attach File</label>
        <input id="fileUpload" type="file" (change)="onFileChange($event)">
      </div>
    </div>

    <div class="row">
      <div class="form-group full-width">
        <label for="description"><i class="fas fa-align-left label-icon"></i> Description</label>
        <textarea id="description" placeholder="Enter task description" [(ngModel)]="description"
          name="description"></textarea>
      </div>
    </div>

    <button (click)="submitTask()" class="add-task-btn">Save Task</button>
  </form>
</div>


<div class="container" id="taskContainer">
  <!-- Tasks will appear here -->
</div>